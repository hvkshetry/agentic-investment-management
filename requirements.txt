# MCP Financial Servers - Complete Requirements
# Python 3.8+ required

# =============================================================================
# Core MCP Framework
# =============================================================================
fastmcp>=0.1.0                # MCP server framework

# =============================================================================
# Market Data & Financial Libraries
# =============================================================================
openbb>=4.0.0                 # Comprehensive market data platform
openbb-finra>=1.4.2           # FINRA short interest data (free)
openbb-stockgrid>=1.4.2       # Short volume/dark pool data (free)
yfinance>=0.2.40              # Yahoo Finance data
pandas>=2.0.0                 # Data manipulation
numpy>=1.24.0                 # Numerical computing

# =============================================================================
# Portfolio Optimization Libraries
# =============================================================================
PyPortfolioOpt>=1.5.5         # Efficient frontier, Black-Litterman, HRP
Riskfolio-Lib>=6.0.0          # Advanced portfolio optimization (13+ risk measures)
cvxpy>=1.4.0                  # Convex optimization (required by Riskfolio-Lib)
bt>=0.2.10                    # Backtesting library for strategy execution
pulp>=2.7.0                   # Linear programming (used by Oracle)

# =============================================================================
# Statistical & ML Libraries
# =============================================================================
scipy>=1.10.0                 # Scientific computing
scikit-learn>=1.3.0           # Ledoit-Wolf covariance shrinkage
statsmodels>=0.14.0           # Statistical tests (ADF, time series)

# =============================================================================
# Tax Calculations
# =============================================================================
policyengine-us>=1.424.0      # Individual tax calculations (AGPL-3.0)
policyengine-core>=3.20.0     # PolicyEngine framework (AGPL-3.0)
tenforty>=2024.0.0            # Trust/estate tax calculations (MIT)

# =============================================================================
# Performance Analytics
# =============================================================================
quantstats>=0.0.62            # Portfolio analytics and metrics
empyrical>=0.5.5              # Risk and performance calculations

# =============================================================================
# Testing
# =============================================================================
pytest>=7.4.0                 # Testing framework
pytest-asyncio>=0.21.0        # Async test support
pytest-cov>=4.1.0             # Code coverage
hypothesis>=6.90.0            # Property-based testing

# =============================================================================
# Async Support
# =============================================================================
asyncio                       # Built-in, but listing for clarity
aiohttp>=3.9.0                # Async HTTP client/server
httpx>=0.25.0                 # Modern async HTTP client (used by FastMCP)

# =============================================================================
# Policy Events Service Dependencies
# =============================================================================
beautifulsoup4>=4.12.0        # HTML parsing for Senate disclosures
lxml>=4.9.0                   # XML parsing for government data
python-dotenv>=1.0.0          # Environment variable management
redis>=5.0.0                  # Cache for deduplication (optional)
selenium>=4.15.0              # Web scraping for Senate eFD (optional)

# =============================================================================
# Data Validation
# =============================================================================
pydantic>=2.0.0               # Data validation and settings

# =============================================================================
# Optional Visualization (for analysis tools)
# =============================================================================
matplotlib>=3.7.0             # Plotting (used by QuantStats)
seaborn>=0.12.0               # Statistical visualizations
plotly>=5.17.0                # Interactive charts (used by Riskfolio-Lib)

# =============================================================================
# Development Tools (optional)
# =============================================================================
ipython>=8.0.0                # Enhanced Python shell
jupyter>=1.0.0                # Notebook environment
black>=23.0.0                 # Code formatting
mypy>=1.0.0                   # Type checking
ruff>=0.1.0                   # Fast Python linter

# =============================================================================
# Documentation (optional)
# =============================================================================
sphinx>=7.0.0                 # Documentation generator
sphinx-rtd-theme>=2.0.0       # ReadTheDocs theme

# =============================================================================
# Notes:
# =============================================================================
# 1. OpenBB requires API keys in ~/.openbb_platform/user_settings.json
# 2. FRED API key required for treasury rates (free from fred.stlouisfed.org)
# 3. All servers share this single virtual environment
# 4. Install with: pip install -r requirements.txt
# 5. For development: pip install -r requirements.txt --upgrade